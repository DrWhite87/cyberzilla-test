import{_ as j,c as u,k as F,o as r,a as n,b as p,t as w,g as C,B as l,F as b,G as x,e as R,K as B,L as y,M as H,N as q,f as v,O as A,d as N}from"./_plugin-vue_export-helper-12bcda84.js";const E={class:"d-flex align-items-center"},I=["onClick"],D={class:"d-flex flex-column arrows"},U={class:"d-inline-block arrow",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15",fill:"none"},Z=["fill"],z={class:"d-inline-block arrow",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15",fill:"none"},G=["fill"],K={__name:"MTHeadSort",props:{label:{type:String,default:""},attribute:{type:String,default:""},sort:{type:String,required:!1,default:()=>""}},emits:["sortChange"],setup(s,{emit:c}){const e=s,a="lightgray",_="black",o=u(()=>e.sort===e.attribute?_:a),f=u(()=>e.sort==="-"+e.attribute?_:a);F(()=>e.sort,()=>{});const t=()=>{let i=e.sort;i===e.attribute?i="-"+i:i==="-"+e.attribute?i="":i=e.attribute,c("sortChange",i)};return(i,S)=>(r(),n("div",E,[p("a",{href:"",onClick:C(t,["prevent"]),class:"text-body"},w(s.label),9,I),p("div",D,[(r(),n("svg",U,[p("path",{d:"M7.5 3L15 11H0L7.5 3Z",fill:l(f)},null,8,Z)])),(r(),n("svg",z,[p("path",{d:"M7.49988 12L-0.00012207 4L14.9999 4L7.49988 12Z",fill:l(o)},null,8,G)]))])]))}},J=j(K,[["__scopeId","data-v-4aef5643"]]),Q={__name:"MThead",props:{columns:{type:Array,required:!0,default:()=>[]},sort:{type:String,required:!1,default:()=>""}},emits:["sortChange"],setup(s,{emit:c}){const e=a=>{c("sortChange",a)};return(a,_)=>(r(),n("thead",null,[p("tr",null,[(r(!0),n(b,null,x(s.columns,(o,f)=>(r(),n("th",{key:"thead-"+o.props.attribute,scope:"col"},[o.props.sortable?(r(),B(J,{key:1,label:o.props.label,attribute:o.props.attribute,sort:s.sort,onSortChange:e},null,8,["label","attribute","sort"])):(r(),n(b,{key:0},[R(w(o.props.label),1)],64))]))),128))])]))}},W=["onClick"],X={__name:"MTBody",props:{columns:{type:Array,required:!0,default:()=>[]},resources:{type:Array,required:!0,default:()=>[]},rowClass:{type:[String,Object],required:!1,default:()=>({})}},emits:["clickRow"],setup(s,{emit:c}){const e=a=>{c("clickRow",a)};return(a,_)=>(r(),n("tbody",null,[(r(!0),n(b,null,x(s.resources,(o,f)=>(r(),n("tr",null,[(r(!0),n(b,null,x(s.columns,(t,i)=>(r(),n("td",{onClick:S=>e(o),class:y(s.rowClass)},[t.children&&t.children.body?(r(),B(H(t.children.body),{key:0,row:o,column:t,attribute:t.props.attribute,label:t.props.label},null,8,["row","column","attribute","label"])):(r(),n(b,{key:1},[R(w(o[t.props.attribute]),1)],64))],10,W))),256))]))),256))]))}},Y={key:0,class:"pagination"},ee=["tabindex","onClick"],te=p("span",{"aria-hidden":"true"},"«",-1),re=["onClick","aria-current"],ae=["tabindex","onClick"],se=p("span",{"aria-hidden":"true"},"»",-1),ne={__name:"MTPagination",props:{resources:{type:Object,required:!1,default:()=>({})},limit:{type:Number,required:!1,default:()=>3}},emits:["paginationChangePage"],setup(s,{emit:c}){const e=s,a=u(()=>e.resources.meta.current_page),_=u(()=>e.resources.meta.per_page);u(()=>e.resources.meta.first_page_url),u(()=>e.resources.meta.from);const o=u(()=>e.resources.meta.last_page);u(()=>e.resources.meta.last_page_url);const f=u(()=>e.resources.meta.next_page_url),t=u(()=>e.resources.meta.prev_page_url);u(()=>e.resources.meta.to);const i=u(()=>e.resources.meta.total),S=u(()=>{if(e.limit===-1)return 0;if(e.limit===0)return o.value;let h=a.value,$=o.value,g=e.limit,M=h-g,T=h+g+1,L=[],k=[],m;for(let d=1;d<=$;d++)(d===1||d===$||d>=M&&d<T)&&L.push(d);return L.forEach(function(d){m&&(d-m===2?k.push(m+1):d-m!==1&&k.push("...")),k.push(d),m=d}),k}),O=()=>{P(a.value-1)},V=()=>{P(a.value+1)},P=h=>{h!=="..."&&c("paginationChangePage",h)};return(h,$)=>l(i)>l(_)?(r(),n("ul",Y,[l(t)?(r(),n("li",{key:0,class:y(["page-item pagination-prev-nav",{disabled:!l(t)}])},[p("a",{class:"page-link text-secondary",href:"","aria-label":"Previous",tabindex:!l(t)&&-1,onClick:C(O,["prevent"])},[q(h.$slots,"prev-nav",{},()=>[te])],8,ee)],2)):v("",!0),(r(!0),n(b,null,x(l(S),(g,M)=>(r(),n("li",{class:"page-item pagination-page-nav",key:M},[p("a",{class:y(["page-link text-secondary",{"bg-dark":g===l(a),"text-white":g===l(a),"text-white":g===l(a),"border-dark":g===l(a)}]),href:"",onClick:C(T=>P(g),["prevent"]),"aria-current":g===l(a)?"page":null},w(g),11,re)]))),128)),l(f)?(r(),n("li",{key:1,class:y(["page-item pagination-next-nav",{disabled:!l(f)}])},[p("a",{class:"page-link text-secondary",href:"","aria-label":"Next",tabindex:!l(f)&&-1,onClick:C(V,["prevent"])},[q(h.$slots,"next-nav",{},()=>[se])],8,ae)],2)):v("",!0)])):v("",!0)}},le={class:"table"},ie={__name:"MTable",props:{resources:{type:Object,required:!1,default:()=>({})},paginatorLimit:{type:Number,required:!1,default:()=>3},sort:{type:String,required:!1,default:()=>""},rowClass:{type:[String,Object],required:!1,default:()=>({})}},emits:["clickRow","paginationChangePage","sortChange"],setup(s,{emit:c}){const e=A(),a=u(()=>{let t=[];return e.default&&e.default().forEach(i=>{t.push(i)}),t}),_=t=>{c("clickRow",t)},o=t=>{c("paginationChangePage",t)},f=t=>{c("sortChange",t)};return(t,i)=>(r(),n(b,null,[p("div",null,[q(t.$slots,"default"),p("table",le,[N(Q,{columns:l(a),sort:s.sort,onSortChange:f},null,8,["columns","sort"]),N(X,{columns:l(a),resources:s.resources.data,onClickRow:_,class:y(s.rowClass)},null,8,["columns","resources","class"])])]),s.resources.links?(r(),B(ne,{key:0,class:"MTPagination mt-6",resources:s.resources,limit:s.paginatorLimit,onPaginationChangePage:o},null,8,["resources","limit"])):v("",!0)],64))}},ue={__name:"MTColumn",props:{attribute:{type:String},label:{type:String},sortable:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1}},setup(s){return(c,e)=>null}};export{ue as _,ie as a};
