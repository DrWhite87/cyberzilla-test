import{_ as v,c as y,l as g,j as m,a as n,b as e,t as u,g as k,F as h,G as E,f as b,H as f,I as p,o as r}from"./_plugin-vue_export-helper-12bcda84.js";import{u as w}from"./users-b4bbf877.js";import{b as S}from"./auth-1d42bfe6.js";const U={name:"UsersEdit",setup(){const a=w(),s=y(()=>a.user),d=S();a.fetchOne(d.params.id);const t=g(s),l=m({}),i=m(!1),o=m(!1);return{form:t,validationErrors:l,processing:i,updated:o,update:async()=>{i.value=!0,o.value=!1,await a.update(d.params.id,t.value).then(c=>{l.value={},o.value=!0}).catch(({response:c})=>{c.status===422?l.value=c.data.errors:l.value={}}).finally(()=>{i.value=!1})}}}},x={class:"container mt-4 mb-2"},V={class:"mt-2"},B={class:"container p-3 mb-4 bg-white"},N={class:"card-body"},P={key:0,class:"col-12"},j={class:"alert alert-danger"},C={class:"mb-0"},D={key:1,class:"col-12"},F=e("div",{class:"alert alert-success"}," Saved! ",-1),M=[F],O={class:"form-group col-12"},G=e("label",{for:"name",class:"font-weight-bold"},"Name",-1),H={class:"form-group col-12 my-2"},I=e("label",{for:"email",class:"font-weight-bold"},"Email",-1),L={class:"form-group col-12 my-2"},R=e("label",{for:"phone",class:"font-weight-bold"},"Phone",-1),T={class:"col-12 my-2"},q=["disabled"];function z(a,s,d,t,l,i){return r(),n(h,null,[e("div",x,[e("h1",V,u(a.$route.meta.title),1)]),e("div",B,[e("div",N,[e("form",{onSubmit:s[4]||(s[4]=k((...o)=>t.update&&t.update(...o),["prevent"])),class:"row",method:"post"},[Object.keys(t.validationErrors).length>0?(r(),n("div",P,[e("div",j,[e("ul",C,[(r(!0),n(h,null,E(t.validationErrors,(o,_)=>(r(),n("li",{key:_},u(o[0]),1))),128))])])])):b("",!0),t.updated?(r(),n("div",D,M)):b("",!0),e("div",O,[G,f(e("input",{type:"text",name:"name","onUpdate:modelValue":s[0]||(s[0]=o=>t.form.name=o),id:"name",placeholder:"Enter name",class:"form-control"},null,512),[[p,t.form.name]])]),e("div",H,[I,f(e("input",{type:"text",name:"email","onUpdate:modelValue":s[1]||(s[1]=o=>t.form.email=o),id:"email",placeholder:"Enter Email",class:"form-control"},null,512),[[p,t.form.email]])]),e("div",L,[R,f(e("input",{type:"text",name:"phone","onUpdate:modelValue":s[2]||(s[2]=o=>t.form.phone=o),id:"phone",placeholder:"Enter Phone",class:"form-control"},null,512),[[p,t.form.phone]])]),e("div",T,[e("button",{type:"button",class:"btn btn-dark btn-block",onClick:s[3]||(s[3]=o=>a.$router.back())}," Back "),e("button",{type:"submit",disabled:t.processing,class:"btn btn-primary btn-block ml-3"},u(t.processing?"Please wait":"Save"),9,q)])],32)])])],64)}const Q=v(U,[["render",z]]);export{Q as default};
